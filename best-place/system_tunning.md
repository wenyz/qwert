# 生产环境调优经验总结
### 内存调优
#### 充分使用内存
1. 设置swap和RAM一样大；设置swapiness=0;
2. 设置overcommit_memory=2,overcommit_ratio=100,swapiness=0;
   这样设置可以使物理内存加swap内存，即翻倍，然后可以使系统
   优先使用RAM内存，不够再使用swap内存
   
### 硬件
#### 硬盘调优
##### Raid调优
1.调整 stripe element size （磁条元素大小）
 该值调整越大性能越好
 有8KB 16KB 32KB
 DB基本是顺序读取需求 所以设置比较大有优秀的性能
 一般说来 DB可以设置成128K
 其他机器可以设置为64K
2.调整读写策略 至 force wb with no bettery
 因为DB一般数据是最重要的，所以用Raid10或者Raid5
 Raid之间的区别
 Raid0
 
 --------
 |1|   |2|
 |3|   |4|
 |5|   |6|
分成两片盘，写入是分开写到两片盘上，使磁盘具有并行读写能力

Raid01
raid0
      -----------
      |         |
      |         |
    -----     -----
    1   2     1   2
    3   4     3   4
    5   6     5   6
 备份 缺点是左边第一块坏了，第二块也不可用
 
 raid10
 
 11   22
 33   44
 
 这种坏了一块也可以用
 
 raid5
 
 a1  a2  a3  ap
 ap指校验位，可以校验前面3块盘的数据，如果出错
 可以根据校验位恢复数据